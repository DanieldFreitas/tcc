<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body class="bg-light" style="font-family: 'Open Sans', sans-serif;">
  <%- include('../partials/navbar'); %>
  <%- include('../partials/header'); %>
   <!-- Menu Lateral -->
   <div id="sideNav" class="side-nav">
    <a href="/professor/profArea">Home</a>
    <a href="/professor/problemasabertos">Listar Problemas em Aberto</a>
    <a href="/professor/solucionados">Conhecer Problemas Solucionados</a>
    <a href="/ideia/cadastroideia">Cadastrar um Problema</a>
    <a href="/professor/historico">Seu Histórico</a>
    <a href="/professor/logout" class="sair-btn">Sair</a>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<!--conteudo principal-->

<div class="container mt-5">
  <div class="container d-flex flex-column align-items-center justify-content-center min-vh-100">
    <h3 class="text-center">Editar dados do problema:</h3>

    <form action="/ideia/atualizar/<%= ideia.id %>" method="POST" class="w-100">
      <fieldset class="w-100 p-3 border rounded shadow-sm bg-white">
        <legend class="fw-bold">Sobre o problema:</legend>

        <label class="fw-semibold">Descreva abaixo o problema em poucas palavras:</label>
        <input type="text" name="titulo" class="form-control" value="<%= ideia.titulo %>" required>

        <label class="fw-semibold mt-2">Descreva abaixo o problema em detalhes:</label>
        <textarea name="detalhes" class="form-control" rows="4" required><%= ideia.detalhes %></textarea>

        <label class="fw-semibold mt-2">Suspeita da causa do problema, se tiver:</label>
        <input type="text" name="causa" class="form-control" value="<%= ideia.causa %>">

        <label class="fw-semibold mt-2">Frequência da ocorrência, se souber:</label>
        <input type="text" name="frequencia" class="form-control" value="<%= ideia.frequencia %>">

        <label class="fw-semibold mt-2">Prazo máximo necessário para a solução:</label>
        <input type="date" name="prazo" class="form-control" value="<%= ideia.prazo %>">

        <label class="fw-semibold mt-2">Tipo de projeto de extensão:</label>
        <select name="tipo_projeto" class="form-select">
          <option value="consultoria" <%= ideia.tipo_projeto === 'consultoria' ? 'selected' : '' %>>Consultoria técnica</option>
          <option value="curso" <%= ideia.tipo_projeto === 'curso' ? 'selected' : '' %>>Curso (curta duração)</option>
          <option value="evento" <%= ideia.tipo_projeto === 'evento' ? 'selected' : '' %>>Evento de palestras/minicursos</option>
          <option value="novo_produto" <%= ideia.tipo_projeto === 'novo_produto' ? 'selected' : '' %>>Novo produto/serviço</option>
          <option value="melhoria" <%= ideia.tipo_projeto === 'melhoria' ? 'selected' : '' %>>Melhoria de produto/serviço</option>
          <option value="resultado" <%= ideia.tipo_projeto === 'resultado' ? 'selected' : '' %>>Resultado (ex. redução evasão escolar)</option>
          <option value="nao_sabe" <%= ideia.tipo_projeto === 'nao_sabe' ? 'selected' : '' %>>Não sei</option>
        </select>

        <label class="fw-semibold mt-2">Curso sugerido para resolver o problema:</label>
        <select name="curso_sugerido" class="form-select">
          <option value="tads" <%= ideia.curso_sugerido === 'tads' ? 'selected' : '' %>>Análise e Desenvolvimento de Sistemas</option>
          <option value="ega" <%= ideia.curso_sugerido === 'ega' ? 'selected' : '' %>>Engenharia Agronômica</option>
          <option value="fpgl" <%= ideia.curso_sugerido === 'fpgl' ? 'selected' : '' %>>Formação Pedagógica</option>
          <option value="ta" <%= ideia.curso_sugerido === 'ta' ? 'selected' : '' %>>Tecnologia em Alimentos</option>
        </select>
      </fieldset>

      <br>

      <fieldset class="w-100 p-3 border rounded shadow-sm bg-white">
        <legend class="fw-bold">Dados para contato:</legend>

        <label class="fw-semibold">Nome Completo:</label>
        <input type="text" name="nome" class="form-control" value="<%= ideia.nome %>" required>

        <label class="fw-semibold mt-2">Telefone:</label>
        <input type="text" name="telefone" class="form-control" value="<%= ideia.telefone %>" required>

        <label class="fw-semibold mt-2">Email:</label>
        <input type="email" name="email" class="form-control" value="<%= ideia.email %>" required>

        <label class="fw-semibold mt-2">Cidade:</label>
        <select name="cidade" class="form-select">
          <option value="bage" <%= ideia.cidade === 'bage' ? 'selected' : '' %>>Bagé</option>
          <option value="pelotas" <%= ideia.cidade === 'pelotas' ? 'selected' : '' %>>Pelotas</option>
          <option value="candiota" <%= ideia.cidade === 'candiota' ? 'selected' : '' %>>Candiota</option>
          <option value="hulha_negra" <%= ideia.cidade === 'hulha_negra' ? 'selected' : '' %>>Hulha Negra</option>
          <option value="dom_pedrito" <%= ideia.cidade === 'dom_pedrito' ? 'selected' : '' %>>Dom Pedrito</option>
        </select>
      </fieldset>

      <div class="mt-4 d-flex gap-3 justify-content-center">
        <a href="/professor/detalheproblema/<%= ideia.id %>" class="btn btn-secondary">Voltar</a>
        <button type="submit" class="btn btn-success">Atualizar</button>
    </div>
    
    </form>
    </div>
  </div><br>

  <%- include('../partials/footer'); %>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
