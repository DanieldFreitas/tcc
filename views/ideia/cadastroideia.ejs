<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IFSul - Cadastro de Problemas</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@800&display=swap" rel="stylesheet">
</head>
<body class="d-flex flex-column min-vh-100 bg-light">

    <!-- Inclusão do Navbar -->
    <%- include('../partials/navbar'); %>

    <div class="container my-5">
        <% if (mensagem) { %>
            <div class="alert alert-danger text-center">
                <strong>Alerta!</strong> <%= mensagem %>
            </div>
        <% } %>
        <p class="fw-semibold text-primary">Por favor, informe os dados abaixo para cadastrar o problema:</p>
        <div class="card shadow p-4">
            <div class="row">
                <div class="col-md-8">
                    <form action="/ideia/cadastrar" method="POST">
                        <fieldset>
                            <legend class="fw-bold">Sobre o Problema</legend>

                            <div class="mb-3">
                                <label class="form-label">Descreva abaixo o problema em poucas palavras: <span class="text-danger">*</span></label>
                                <textarea class="form-control" name="titulo" rows="2" required></textarea>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Descreva abaixo o problema em detalhes: <span class="text-danger">*</span></label>
                                <textarea class="form-control" name="detalhes" rows="3" required></textarea>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Suspeita da causa do problema, se tiver:</label>
                                <textarea class="form-control" name="causa" rows="3"></textarea>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Frequência da ocorrência, se souber:</label>
                                <input type="text" class="form-control" name="frequencia">
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Prazo máximo necessário para a solução, se tiver:</label>
                                <input type="date" class="form-control" name="prazo">
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Qual tipo de projeto de extensão você acha que seria útil para resolveria este problema? <span class="text-danger">*</span></label>
                                <select class="form-select" name="tipo_projeto">
                                    <option value="consultoria">Receber uma consultoria técnica</option>
                                    <option value="curso">Receber um curso (curta duração)</option>
                                    <option value="evento">Evento de palestras/minicursos</option>
                                    <option value="novo_produto">Criar um novo produto/serviço</option>
                                    <option value="melhoria">Melhorar um produto/serviço</option>
                                    <option value="resultado">Gerar um resultado (ex. diminuir evasão escolar)</option>
                                    <option value="nao_sabe">Não sei informar</option>
                                </select>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Qual curso você acha que talvez possa solucionar este problema? <span class="text-danger">*</span></label>
                                <select class="form-select" name="curso_sugerido">
                                    <option value="tads">Análise e Desenvolvimento de Sistemas</option>
                                    <option value="ega">Engenharia Agronômica</option>
                                    <option value="fpgl">Formação Pedagógica</option>
                                    <option value="ta">Tecnologia em Alimentos</option>
                                </select>
                            </div>
                        </fieldset>

                        <fieldset>
                            <legend class="fw-bold mt-4">Dados para Contato</legend>

                            <div class="mb-3">
                                <label class="form-label">Nome Completo <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" name="nome" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Telefone <span class="text-danger">*</span></label>
                                <input type="tel" class="form-control" name="telefone" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">E-mail <span class="text-danger">*</span></label>
                                <input type="email" class="form-control" name="email" required>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">Cidade <span class="text-danger">*</span></label>
                                <select class="form-select" name="cidade">
                                    <option value="bage">Bagé</option>
                                    <option value="pelotas">Pelotas</option>
                                    <option value="candiota">Candiota</option>
                                    <option value="hulha_negra">Hulha Negra</option>
                                    <option value="dom_pedrito">Dom Pedrito</option>
                                    <option value="acegua">Aceguá</option>
                                    <option value="santana">Santana do Livramento</option>
                                </select>
                            </div>
                        </fieldset>

                        <p class="text-danger fw-bold">* Campo de preenchimento obrigatório</p>

                        <div class="d-flex justify-content-between">
                            <button class="btn btn-secondary" onclick="history.go(-1)">Voltar</button>
                            <button type="submit" class="btn btn-success">Cadastrar Problema</button>
                        </div>
                    </form>
                </div>

                <!-- Instruções ao lado do formulário -->
                <div class="col-md-4">
                    <div class="alert alert-info">
                        <h5 class="fw-bold">Por exemplo, descreva:</h5>
                        <ul class="mb-0">
                            <li>Onde e quando o problema ocorre</li>
                            <li>Qual é o problema ou como este acontece</li>
                            <li>Quem são as pessoas envolvidas/afetadas</li>
                            <li>Os prejuízos decorrentes do problema</li>
                        </ul>
                        <p class="text-muted">(máximo: 300 caracteres)</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Inclusão do Footer -->
    <%- include('../partials/footer'); %> 

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
